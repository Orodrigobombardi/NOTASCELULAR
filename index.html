<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<body>
    <link rel="stylesheet" href="index.css">
  </head>
<body>
  <header>
    üóíÔ∏è Bloco de Notas PRO++
    <button id="toggleDark" onclick="toggleDark()">üåô</button>
  </header>
  <main>
    <div class="actions">
      <button onclick="exportTXT()">üìÑ Exportar TXT</button>
      <button onclick="exportBackup()">üíæ Backup</button>
      <button onclick="importBackup()">üìÇ Restaurar</button>
      <button onclick="downloadPDF()">üñ®Ô∏è PDF</button>
      <button onclick="openChecklistModal()">‚úÖ Checklist</button>
    </div>

    <div class="filters">
      <input type="text" id="searchText" placeholder="üîç Procurar nota por texto..." oninput="renderNotes()" />
      <input type="date" id="searchDate" oninput="renderNotes()" />
    </div>

    <input type="text" id="newTitle" placeholder="T√≠tulo da Nota">
    <textarea id="newNote" placeholder="Escreva sua nota..."></textarea>
    <button id="addBtn" onclick="addNote()">‚ûï Adicionar Nota</button>
    <div id="notes"></div>
  </main>

  <!-- Modais -->
  <div id="checklistModal" class="modal">
    <div class="modal-content">
      <h3>Criar Checklist</h3>
      <input type="text" id="checklistTitle" placeholder="T√≠tulo do Checklist">
      <button onclick="createChecklist()">Criar</button>
    </div>
  </div>

  <div id="confirmModal" class="modal">
    <div class="modal-content">
      <p id="confirmMessage"></p>
      <button onclick="confirmAction()">Sim</button>
      <button onclick="closeConfirm()">Cancelar</button>
    </div>
  </div>

<script>
  let notes = [];
  let toDeleteIndex = null;

  window.onload = () => {
    const saved = localStorage.getItem('notas');
    if (saved) notes = JSON.parse(saved);
    if (localStorage.getItem('darkMode') === 'true') document.body.classList.add('dark');
    renderNotes();
  };

  function saveNotes() { localStorage.setItem('notas', JSON.stringify(notes)); }

  function toggleDark() { document.body.classList.toggle('dark'); localStorage.setItem('darkMode', document.body.classList.contains('dark')); }

  function addNote() {
    const title = document.getElementById('newTitle').value.trim();
    const text = document.getElementById('newNote').value.trim();
    if (title && text) {
      notes.unshift({ type: 'note', title: title, text: text, date: new Date().toISOString().slice(0,10) });
      saveNotes();
      renderNotes();
      document.getElementById('newTitle').value = '';
      document.getElementById('newNote').value = '';
    } else { alert('Preencha t√≠tulo e conte√∫do!'); }
  }

  function openChecklistModal() { document.getElementById('checklistModal').style.display = 'flex'; }
  function closeChecklistModal() { document.getElementById('checklistModal').style.display = 'none'; }

  function createChecklist() {
    const title = document.getElementById('checklistTitle').value.trim();
    if (title) {
      notes.unshift({ type: 'checklist', title: title, items: [], date: new Date().toISOString().slice(0, 10) });
      saveNotes();
      renderNotes();
      document.getElementById('checklistTitle').value = '';
      closeChecklistModal();
    }
  }

  function renderNotes() {
    // igual ao anterior mas agora mostra nota.title tamb√©m...
    // continua na pr√≥xima resposta se quiser ver tudo!
  }
</script>
</body>
</html>